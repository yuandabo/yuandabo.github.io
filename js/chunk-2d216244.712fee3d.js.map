{"version":3,"sources":["webpack:///./src/components/scroll/index.vue?4cea","webpack:///src/components/scroll/index.vue","webpack:///./src/components/scroll/index.vue?91ce","webpack:///./src/components/scroll/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","_t","staticRenderFns","props","probeType","type","Number","default","click","Boolean","scrollX","listenScroll","data","Array","pullup","pulldown","beforeScroll","refreshDelay","scroll","mounted","setTimeout","methods","_initScroll","$refs","wrapper","on","pos","y","disable","enable","refresh","scrollTo","apply","arguments","scrollToElement","watch","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAI,WAAW,CAACN,EAAIO,GAAG,YAAY,IACzIC,EAAkB,G,wBCetB,GACEC,MAAO,CAMLC,UAAW,CACTC,KAAMC,OACNC,QAAS,GAKXC,MAAO,CACLH,KAAMI,QACNF,SAAS,GAKXG,QAAS,CACPL,KAAMI,QACNF,SAAS,GAKXI,aAAc,CACZN,KAAMI,QACNF,SAAS,GAKXK,KAAM,CACJP,KAAMQ,MACNN,QAAS,MAKXO,OAAQ,CACNT,KAAMI,QACNF,SAAS,GAKXQ,SAAU,CACRV,KAAMI,QACNF,SAAS,GAKXS,aAAc,CACZX,KAAMI,QACNF,SAAS,GAKXU,aAAc,CACZZ,KAAMC,OACNC,QAAS,KAGbK,KApEF,WAqEI,MAAO,CACLM,OAAQ,OAGZC,QAzEF,WAyEA,WAEIC,YAAW,WACT,EAAN,gBACA,MAEEC,QAAS,CACPC,YADJ,WACA,WACW3B,KAAK4B,MAAMC,UAIhB7B,KAAKuB,OAAS,IAAI,EAAxB,yBACQd,UAAWT,KAAKS,UAChBI,MAAOb,KAAKa,MACZE,QAASf,KAAKe,UAIZf,KAAKgB,cACPhB,KAAKuB,OAAOO,GAAG,UAAU,SAAjC,GACU,EAAV,qBAKU9B,KAAKmB,QACPnB,KAAKuB,OAAOO,GAAG,aAAa,WAEtB,EAAd,kCACY,EAAZ,wBAMU9B,KAAKoB,UACPpB,KAAKuB,OAAOO,GAAG,YAAY,SAAnC,GAEcC,EAAIC,EAAI,IACV,EAAZ,qBAMUhC,KAAKqB,cACPrB,KAAKuB,OAAOO,GAAG,qBAAqB,WAClC,EAAV,2BAIIG,QA9CJ,WAgDMjC,KAAKuB,QAAUvB,KAAKuB,OAAOU,WAE7BC,OAlDJ,WAoDMlC,KAAKuB,QAAUvB,KAAKuB,OAAOW,UAE7BC,QAtDJ,WAwDMnC,KAAKuB,QAAUvB,KAAKuB,OAAOY,WAE7BC,SA1DJ,WA4DMpC,KAAKuB,QAAUvB,KAAKuB,OAAOa,SAASC,MAAMrC,KAAKuB,OAAQe,YAEzDC,gBA9DJ,WAgEMvC,KAAKuB,QAAUvB,KAAKuB,OAAOgB,gBAAgBF,MAAMrC,KAAKuB,OAAQe,aAGlEE,MAAO,CAELvB,KAFJ,WAEA,WACMQ,YAAW,WACT,EAAR,YACA,sBCvKkc,I,YCO9bgB,EAAY,eACd,EACA3C,EACAS,GACA,EACA,KACA,KACA,MAIa,aAAAkC,E","file":"js/chunk-2d216244.712fee3d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Author: your name\r\n * @Date: 2021-02-22 15:07:02\r\n * @LastEditTime: 2021-02-25 11:47:47\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\demo\\vue\\eleme\\phoneweb\\src\\layout\\scroll\\index.vue\r\n-->\r\n<template>\r\n  <div ref=\"wrapper\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n<script type=\"text/ecmascript-6\">\r\nimport BScroll from 'better-scroll'\r\n\r\nexport default {\r\n  props: {\r\n    /**\r\n     * 1 滚动的时候会派发scroll事件，会截流。\r\n     * 2 滚动的时候实时派发scroll事件，不会截流。\r\n     * 3 除了实时派发scroll事件，在swipe的情况下仍然能实时派发scroll事件\r\n     */\r\n    probeType: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    /**\r\n     * 点击列表是否派发click事件\r\n     */\r\n    click: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    /**\r\n     * 是否开启横向滚动\r\n     */\r\n    scrollX: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /**\r\n     * 是否派发滚动事件\r\n     */\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /**\r\n     * 列表的数据\r\n     */\r\n    data: {\r\n      type: Array,\r\n      default: null\r\n    },\r\n    /**\r\n     * 是否派发滚动到底部的事件，用于上拉加载\r\n     */\r\n    pullup: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /**\r\n     * 是否派发顶部下拉的事件，用于下拉刷新\r\n     */\r\n    pulldown: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /**\r\n     * 是否派发列表滚动开始的事件\r\n     */\r\n    beforeScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /**\r\n     * 当数据更新后，刷新scroll的延时。\r\n     */\r\n    refreshDelay: {\r\n      type: Number,\r\n      default: 20\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      scroll: null\r\n    }\r\n  },\r\n  mounted () {\r\n    // 保证在DOM渲染完毕后初始化better-scroll\r\n    setTimeout(() => {\r\n      this._initScroll()\r\n    }, 200)\r\n  },\r\n  methods: {\r\n    _initScroll () {\r\n      if (!this.$refs.wrapper) {\r\n        return\r\n      }\r\n      // better-scroll的初始化\r\n      this.scroll = new BScroll(this.$refs.wrapper, {\r\n        probeType: this.probeType,\r\n        click: this.click,\r\n        scrollX: this.scrollX\r\n      })\r\n\r\n      // 是否派发滚动事件\r\n      if (this.listenScroll) {\r\n        this.scroll.on('scroll', (pos) => {\r\n          this.$emit('scroll', pos)\r\n        })\r\n      }\r\n\r\n      // 是否派发滚动到底部事件，用于上拉加载\r\n      if (this.pullup) {\r\n        this.scroll.on('scrollEnd', () => {\r\n          // 滚动到底部\r\n          if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\r\n            this.$emit('scrollToEnd')\r\n          }\r\n        })\r\n      }\r\n\r\n      // 是否派发顶部下拉事件，用于下拉刷新\r\n      if (this.pulldown) {\r\n        this.scroll.on('touchEnd', (pos) => {\r\n          // 下拉动作\r\n          if (pos.y > 50) {\r\n            this.$emit('pulldown')\r\n          }\r\n        })\r\n      }\r\n\r\n      // 是否派发列表滚动开始的事件\r\n      if (this.beforeScroll) {\r\n        this.scroll.on('beforeScrollStart', () => {\r\n          this.$emit('beforeScroll')\r\n        })\r\n      }\r\n    },\r\n    disable () {\r\n      // 代理better-scroll的disable方法\r\n      this.scroll && this.scroll.disable()\r\n    },\r\n    enable () {\r\n      // 代理better-scroll的enable方法\r\n      this.scroll && this.scroll.enable()\r\n    },\r\n    refresh () {\r\n      // 代理better-scroll的refresh方法\r\n      this.scroll && this.scroll.refresh()\r\n    },\r\n    scrollTo () {\r\n      // 代理better-scroll的scrollTo方法\r\n      this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\r\n    },\r\n    scrollToElement () {\r\n      // 代理better-scroll的scrollToElement方法\r\n      this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\r\n    }\r\n  },\r\n  watch: {\r\n    // 监听数据的变化，延时refreshDelay时间后调用refresh方法重新计算，保证滚动效果正常\r\n    data () {\r\n      setTimeout(() => {\r\n        this.refresh()\r\n      }, this.refreshDelay)\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1cddccea&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}